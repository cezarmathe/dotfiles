# Interactive shell configuration

source ~/.profile


### ENVIRONMENT VARIABLES ###

export ZSH_TMUX_AUTOSTART=true

#############################


########## ALIASES ##########

alias dotfiles='git --git-dir=${HOME}/.local/share/maintenance/dotfiles/.git --work-tree=${HOME}/.local/share/maintenance/dotfiles/'
alias stow='stow -t ${HOME}'

alias gs='git status'

alias ls='ls --color=auto'

alias edit='${EDITOR}'

#############################


########## KEYCHAIN #########

eval $(keychain --agents ssh,gpg -q --eval id_rsa ~/.ssh/id_rsa)
eval $(keychain --agents ssh,gpg -q --eval github ~/.ssh/github)

eval $(keychain --agents ssh,gpg -q --eval F7A4665006757D40230D107A5C6E240A90B96553)

#############################


######### FUNCTIONS #########

function git_additions_deletions() {
    local username="$1"; shift
    local branch="$1"; shift
    git log --author=${username} --shortstat ${branch} | \
        awk '/^ [0-9]/ { f += $1; i += $4; d += $6 } \
        END { printf("%d files changed, %d insertions(+), %d deletions(-)\n", f, i, d) }'
}

function reload() {
    local shell
    shell="${SHELL}"
    if [[ "${shell}" == "/bin/zsh" ]]; then
        source ~/.zshrc
        return
    fi
    if [[ "${shell}" == "/bin/bash" ]]; then
        source ~/.bashrc
        return
    fi
    printf "%s\n" "Unknown shell"
}

function targz() {
	local filename
	filename="$1"

	tar -cjf "${filename}.tar.gz" "${filename}"
}

#############################
